SV=window.SV||{},SV.Filtable=function(e,t,n){const o={text:{selector:'input[type="text"], input[type="search"]',event:"input"},select:{selector:"select",event:"change"},checkbox:{selector:'input[type="checkbox"]',event:"click"}};let l=[];const i={zebraStriping:!1,locale:"en"};let s={};const r=["odd","even"];let a={};const c=function(e){return e.matches(o.checkbox.selector)&&!e.checked?"":e.value},u=function(e,t){for(let n of t)if(n=parseInt(n),-1==e.indexOf(n))throw"Error: invalid column specified in data-filter-col attribute"},f=function(){if(t)for(let e in o){let n=o[e],i=t.querySelectorAll(n.selector);for(let e of i)l.push(e),e.addEventListener(n.event,(function(){let t=a.buildFilters();a.applyFilters(t),m(e)}))}},d=function(e,t){const n=e.querySelectorAll(":scope > td");for(let e of t){if(0==e.value.length)continue;let t=!1;for(let i of e.columns){let r=n[i],a=r.getAttribute("data-filter-value");if(a)e.value==a&&(t=!0);else{let n=r.textContent;o=n,l=e.value,-1!=o.toLocaleLowerCase(s.locale).indexOf(l.toLocaleLowerCase(s.locale))&&(t=!0)}}if(!t)return!1}var o,l;return!0},h=function(){let e=window.location.hash.replace("#","");if(0===e.length)return{};let t={},n=e.split("&");for(let e of n){let n=e.split("=");2===n.length&&(t[n[0]]=n[1])}return t},p=function(){if(!t)return;let e=h();for(let n in e)fieldElem=t.querySelector('[data-filter-hash="'+n+'"]'),fieldElem&&(fieldElem.matches(o.checkbox.selector)&&fieldElem.value===e[n]?fieldElem.checked=!0:fieldElem.value=e[n])},m=function(e){let t=e.getAttribute("data-filter-hash");if(!t)return;let n=h();n[t]=c(e);let o="#";for(let e in n)0!==n[e].length&&("#"!==o&&(o+="&"),o+=e+"="+n[e]);"#"===o&&(o=window.location.pathname+window.location.search),window.history.replaceState(void 0,void 0,o)};return a.buildFilters=function(){const t=function(){const t=e.querySelectorAll(":scope > tbody > tr:first-child > td");return Array.from(Array(t.length).keys())}();if(0===t.length)return[];let n=[];for(let e of l){let o=[],l=e.getAttribute("data-filter-col");l?(o=l.toString().split(","),u(t,o)):o=t;let i=c(e);n.push({columns:o,value:i})}return n},a.restripeTable=function(){let t=e.querySelectorAll(":scope > tbody > tr"),n=0;for(let e of t)e.classList.remove(...r),e.classList.contains("hidden")||(e.classList.add(r[n]),n=1-n)},a.applyFilters=function(t){if(!Array.isArray(t))throw"Error: invalid filters supplied";e.dispatchEvent(new CustomEvent("sv.filtable.before")),setTimeout((function(){let n=e.querySelectorAll(":scope > tbody > tr"),o=n.length,l=0;for(let e of n)d(e,t)?(e.classList.remove("hidden"),l++):e.classList.add("hidden");s.zebraStriping&&a.restripeTable();const i={totalRows:o,visibleRows:l};e.dispatchEvent(new CustomEvent("sv.filtable.after",{detail:i}))}),10)},function(){if(!e)throw"Error: invalid table element supplied";s=Object.assign({},i,n),f(),window.addEventListener("hashchange",(function(){p(),a.applyFilters(a.buildFilters())})),p(),setTimeout((function(){a.applyFilters(a.buildFilters())}),10)}(),a},SV=window.SV||{},SV.HoverIntent=function(e,t){const n={exitDelay:400,interval:100,sensitivity:7};let o,l,i,s,r,a,c,u={};const f=function(e){o=e.pageX,l=e.pageY},d=function(e){const t=i-o,n=s-l;if(Math.sqrt(t*t+n*n)<u.sensitivity){clearTimeout(c);for(let e of r)e.isActive&&(u.onExit(e),e.isActive=!1);u.onEnter(e),e.isActive=!0}else i=o,s=l,a=setTimeout((function(){d(e)}),u.interval)};!function(e,t){if(!t||!t.onEnter||!t.onExit)throw"onEnter and onExit callbacks must be provided";u=function(e,t){for(let n in t)e[n]=t[n];return e}(n,t),r=e;for(let e of r)e.isActive=!1,e.addEventListener("mousemove",f),e.addEventListener("mouseenter",(function(t){i=t.pageX,s=t.pageY,e.isActive?clearTimeout(c):a=setTimeout((function(){d(e)}),u.interval)})),e.addEventListener("mouseleave",(function(t){clearTimeout(a),e.isActive&&(c=setTimeout((function(){u.onExit(e),e.isActive=!1}),u.exitDelay))}))}(e,t)},SV=window.SV||{},SV.LocalDb=function(e,t){let n={};const o=e,l=t;let i=[],s={};const r=function(e){return localStorage.hasOwnProperty(e)},a=function(e){return n.versions[e]||0},c=function(e,t){let o={};try{o=JSON.parse(e)}catch(e){throw"Server response was not JSON"}n[t]=o,localStorage[t]=e,function(e){n.versions[e]=l,localStorage.versions=JSON.stringify(n.versions)}(t)},u=function(e){let t=o+e;!function(e,t,n){let o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200==this.status?"function"==typeof t&&t(this.response):n()},o.onerror=n,o.send()}(t,(function(t){c(t,e)}),(function(){throw i.push(e),"Error fetching data from server "+t}))},f=function(e,t){let o=!0;for(let t of e){let e=localStorage[t];i.includes(t)||(!e||a(t)<l?o=!1:n[t]||(n[t]=JSON.parse(e)))}o?setTimeout(t,10):setTimeout((function(){f(e,t)}),500)};return s.load=function(e,t){let n=[];for(let t of e)(!r(t)||a(t)<l)&&n.push(t);for(let e of n)u(e);f(e,t)},s.table=function(e){return n[e]},s.hasError=function(e){return e?i.includes(e):i.length>0},n.versions=localStorage.versions?JSON.parse(localStorage.versions):{},s},SV=window.SV||{},SV.Modal=function(e,t){var n,o,l;let i={};const s={animTime:400};var r={getModalElement:function(){return n},getContentElement:function(){return l},getTitleElement:function(){return o},inject:function(e,t){n&&(o&&(o.innerHTML=t),l&&(l.innerHTML=e))},show:function(){n&&n.classList.add("visible")},close:function(){n&&(n.classList.remove("visible"),setTimeout((function(e){o&&(o.innerHTML=""),l&&(l.innerHTML=""),n.dispatchEvent(new CustomEvent("sv.modal.close"))}),i.animTime))},resizeContent:function(e,t){n&&(l.style.width=l.offsetWidth+"px",l.style.height=l.offsetHeight+"px",e&&t&&(l.style.width=e+"px",l.style.height=t+"px"),setTimeout((function(e){n.dispatchEvent(new CustomEvent("sv.modal.resize"))}),i.animTime))}};return i=Object.assign({},s,t),(n=document.createElement("div")).id=e,n.classList.add("modal-wrapper"),n.innerHTML='<div class="modal"><span class="modal-close" title="Close">&times;</span><h3 class="modal-title"></h3><div class="modal-content"></div></div>',document.querySelector("body").appendChild(n),o=n.querySelector(".modal-title"),l=n.querySelector(".modal-content"),n.addEventListener("click",(function(e){var t=e.target.classList;(t.contains("modal-wrapper")||t.contains("modal-close"))&&r.close()})),r},SV=window.SV||{},SV.Sortable=function(e,t){const n={initialSort:!1,sortFns:{int:function(e,t){return parseInt(e,10)-parseInt(t,10)},float:function(e,t){return parseFloat(e)-parseFloat(t)},string:function(e,t){return e.toString().localeCompare(t.toString())},"string-ins":function(e,t){return e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase(),e.localeCompare(t)}}};let o={};const l={asc:"asc",desc:"desc"};let i={dir:l};const s=function(t,n){let i=t.getAttribute("data-sort-type");if(!i)return;let s=function(e){let t=0;for(let n of e.parentElement.children){if(n===e)return t;let o=n.getAttribute("colspan")||1;t+=parseInt(o,10)}throw"Header cell not found in table"}(t),r=o.sortFns[i]||o.sortFns.string;const a=n||function(e){let t=e.getAttribute("data-sort-dir");return t?t===l.asc?l.desc:l.asc:e.getAttribute("data-sort-default")||l.asc}(t),c={th:t,column:s,dir:a};e.dispatchEvent(new CustomEvent("sv.sortable.before",{detail:c})),setTimeout((function(){let n=function(e,t,n){let o=[];for(let n of e){let e=n.children[t];if(!e)continue;let l=e.getAttribute("data-sort-value");null===l&&(l=e.textContent),o.push([l,n])}return o.sort((function(e,t){return n(e[0],t[0])})),o.map((function(e){return e[1]}))}(e.querySelectorAll(":scope > tbody > tr"),s,r);a===l.desc&&n.reverse();let o=e.querySelector("tbody");o.innerHTML="";for(let e of n)o.appendChild(e);let i=e.querySelectorAll("thead th");for(let e of i)e.removeAttribute("data-sort-dir"),e.classList.remove("sorting-asc","sorting-desc"),e===t&&(t.setAttribute("data-sort-dir",a),t.classList.add("sorting-"+a));e.dispatchEvent(new CustomEvent("sv.sortable.after",{detail:c}))}),10)};return i.sortColumn=function(e,t){let n=i.getThByIndex(e);n&&s(n,t)},i.getThByIndex=function(t){let n=Array.from(e.querySelectorAll(":scope > thead > tr > th")),o=0;for(let e=0;e<n.length;e++){let l=n[e];if(o>=t)return l;let i=l.getAttribute("colspan")||1;o+=parseInt(i,10)}return null},function(){if(!e)throw"Error: invalid table element supplied";o=function(e,t){let n=Object.assign({},e,t);return t&&t.sortFns&&(n.sortFns=Object.assign({},e.sortFns,t.sortFns)),n}(n,t),e.addEventListener("click",(function(e){let t=e.target.closest("th");t&&s(t)})),!1!==o.initialSort&&i.sortColumn(o.initialSort)}(),i},SV=window.SV||{},SV.Tabs=function(e,t){const n={equalHeight:!1,useAnchors:!1};let o,l,i,s,r={},a={};const c=function(e){let t=e.getAttribute("href");return t?t.replace("#",""):""};return a.showTab=function(e){let t=!1;for(let n=0;n<i.length;n++){const o=i[n],l=s[n];c(o)===e?(o.classList.add("active"),0===n&&(t=!0)):o.classList.remove("active"),l.id===e?l.classList.add("active"):l.classList.remove("active")}if(r.useAnchors&&history.replaceState){var n=t?window.location.pathname+window.location.search:"#tab="+e;history.replaceState(null,null,n)}},function(){r=Object.assign({},n,t);let u="HTML structure is incorrect";if(o=e.querySelector(":scope > .sv-tabs-tab-list"),l=e.querySelector(":scope > .sv-tabs-panel-list"),!o||!l)throw u;if(i=o.querySelectorAll(":scope > .sv-tabs-tab"),s=l.querySelectorAll(":scope > .sv-tabs-panel"),!i||!s)throw u;const f=i.length,d=s.length;if(f!==d)throw"Number of tabs ("+f+") does not match number of panels ("+d+")";if(o.addEventListener("click",(function(e){e.preventDefault();let t=e.target.closest(".sv-tabs-tab");if(!t)return;let n=c(t);a.showTab(n)})),r.equalHeight){let e=0;Array.from(s).forEach((function(t){let n=function(e){if("none"!==getComputedStyle(e).display)return e.offsetHeight;e.style.display="block";let t=e.offsetHeight;return e.style.display="",t}(t);e=Math.max(e,n)})),l.style.height=e+"px"}let h=location.hash.match(/#tab=(.+)/);h?a.showTab(h[1]):i[0]&&a.showTab(c(i[0]))}(),a},String.prototype.contains=function(e){return-1!=this.toLowerCase().indexOf(e.toLowerCase())},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),String.prototype.escapeHtml=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};const cmpPokemonNatlDex=function(e,t){return e.national==t.national?e.id-t.id:e.national-t.national};function buildParamString(e){e=e||{};let t="";for(let n in e)t+="&"+n+"="+encodeURIComponent(e[n]);return t.substr(1)}function insertIntoTextarea(e,t){const n=elQS(e);if(!n)return;const o=n.selectionStart,l=n.selectionEnd;n.value=n.value.substring(0,o)+t+n.value.substring(l,n.value.length),n.focus(),n.selectionStart=n.selectionEnd=o+t.length}function sortableSetBlankValues(e,t,n){if(!(null!==n.th.getAttribute("data-blanks")))return;const o=["","-","N/A","â€”"],l="99999",i="-99999";let s=elQSA("tbody td:nth-child("+(n.column+1)+")",t);for(let t of s){let s=t.textContent.trim();if(o.indexOf(s)<0)continue;let r=t.getAttribute("data-sort-value");if([l,i,null,""].indexOf(r)<0)continue;let a=n.dir===e.dir.asc?l:i;t.setAttribute("data-sort-value",a)}}function docReady(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function onEvent(e,t,n,o){if(!e)return;let l=t.split(" ");o=o||{};for(let t in l)e.addEventListener(l[t],n,o)}function onDelegatedEvent(e,t,n,o,l){if(!e)return;let i=n.split(" ");l=l||{};let s=function(e){let n=e.target.closest(t);n&&o(e,n)};for(let t in i)e.addEventListener(i[t],s,l)}function elId(e,t){return(t=t||document).getElementById(e)}function elClass(e,t){return(t=t||document).getElementsByClassName(e)}function elTag(e,t){return(t=t||document).getElementsByTagName(e)}function elQS(e,t){return(t=t||document).querySelector(e)}function elQSA(e,t){return(t=t||document).querySelectorAll(e)}function ajaxRequest(e,t,n,o,l){let i=buildParamString(n),s=null;"GET"===e&&i.length>0&&(t+="?"+i);let r=new XMLHttpRequest;r.open(e,t),"POST"===e&&(r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s=i);let a=function(){"function"==typeof l&&l()};r.onload=function(){200==this.status?"function"==typeof o&&o(this.response):a()},r.onerror=a,r.send(s)}!function(){let e=elQSA(".main-menu-list > li > a");for(let t of e)t.removeAttribute("href");let t=elClass("main-menu-item"),n="main-menu-item-active";onDelegatedEvent(elQS(".main-menu-list"),".main-menu-heading","touchend click",(function(e,o){let l=o.parentElement;if(l.classList.contains(n))l.classList.remove(n);else{for(let e of t)e.classList.remove(n);l.classList.add(n)}e.preventDefault()})),new SV.HoverIntent(t,{onEnter:function(e){e.classList.add(n)},onExit:function(e){e.classList.remove(n)},exitDelay:600})}(),function(){const e=13,t=27,n=38,o=40;let l=new SV.LocalDb("/json/",localDbVersions),i=elId("sitesearch"),s=elQS(".sitesearch-results");const r=function(){l.load(["searchdata"],a.appMain),i.removeEventListener("focus",r)};onEvent(i,"focus",r);let a={maxResults:12,tmplResult:function(e){let t=e.type.replace("_","-"),n=e.type.charAt(0).toUpperCase()+e.type.substr(1).replace("_"," ");return'<a class="sitesearch-results-item" href="/'+t+"/"+e.alias+'"><span class="ent-name" >'+e.name+'</span> <small class="sitesearch-results-type">'+n+"</small></a>"},clearResults:function(e){e.innerHTML="",e.classList.remove("sitesearch-active")},outputResults:function(e,t){if(0===t.length)return void this.clearResults(e);let n="";for(let e of t)n+=a.tmplResult(e);e.innerHTML=n,e.classList.add("sitesearch-active")},searchResults:function(e){let t=l.table("searchdata"),n=[];for(let o in t)for(let l in t[o]){let i=t[o][l];if((i[0].contains(e)||i[1].contains(e))&&(n.push({type:o,name:t[o][l][0],alias:t[o][l][1]}),n.length>=a.maxResults))return n}return n},selectResultsItem:function(e){for(let t of s.children)t===e?t.classList.add("sitesearch-results-item-active"):t.classList.remove("sitesearch-results-item-active")},appMain:function(){let l=null;onEvent(i,"keyup focus",(function(e){if(e.which==o){let e=l?l.nextElementSibling:s.firstChild;l=e||l,a.selectResultsItem(l)}else if(e.which==n)l=l?l.previousElementSibling:null,a.selectResultsItem(l);else if(e.which==t)a.clearResults(s),i.blur();else{let e=i.value;if(e.length>=2){let t=a.searchResults(e);a.outputResults(s,t)}else a.outputResults(s,[]);l=null}})),onEvent(i,"blur",(function(){setTimeout((function(){a.clearResults(s)}),200)})),onEvent(i,"keydown",(function(t){if(t.which==e){let e=l?l.getAttribute("href"):"";e&&(t.preventDefault(),window.location.href=e)}else(t.which==n||t.which==o)&&t.preventDefault()})),onDelegatedEvent(s,".sitesearch-results-item","mouseover",(function(e,t){l=t,a.selectResultsItem(t)}))}}}(),function(){if("pokemondb.net"!==location.host)return;if("undefined"!=typeof useSvan&&!useSvan)return;const e=document.querySelector("link[rel=canonical]");ajaxRequest("POST","https://s.pokemondb.net/sv/log",{url:e?e.getAttribute("href"):location.href.split("#")[0],referrer:document.referrer,uastring:navigator.userAgent,lang:navigator.language,resolution:screen.height+"x"+screen.width})}();